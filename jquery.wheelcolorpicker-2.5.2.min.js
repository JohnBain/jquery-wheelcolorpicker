/**
 * jQuery Wheel Color Picker 2.5.2
 * 
 * http://www.jar2.net/projects/jquery-wheelcolorpicker
 * 
 * Author : Fajar Chandra
 * Date   : 2017.02.07
 * 
 * Copyright Â© 2011-2016 Fajar Chandra. All rights reserved.
 * Released under MIT License.
 * http://www.opensource.org/licenses/mit-license.php
 */
!function(a){var b={},c={},d=null,e=null,f={left:0,top:0},g=!1;a.fn.wheelColorPicker=function(){if(0==arguments.length)return b.setOptions.call(this,{});if("object"==typeof arguments[0])return b.setOptions.call(this,arguments[0]);if(a.isFunction(b[arguments[0]])){var c=[].shift,d=c.apply(arguments);return b[d].apply(this,arguments)}return 2==arguments.length?b.setOption.call(this,arguments[0],arguments[1]):1==arguments.length?b.getOption.call(this,arguments[0]):void a.error("Method/option named "+arguments[0]+" does not exist on jQuery.wheelColorPicker")},a.fn.wheelColorPicker.defaults={format:"hex",preview:!1,live:!0,userinput:!0,validate:!1,autoConvert:!0,color:null,alpha:null,preserveWheel:!1,interactive:!0,cssClass:"",layout:"popup",animDuration:200,quality:1,sliderWidth:1,sliders:null,showSliderLabel:!0,showSliderValue:!1,rounding:2,mobile:!0,hideKeyboard:!1,htmlOptions:!0,snap:!1,snapTolerance:.05},a.fn.wheelColorPicker.hasInit=!1,a.fn.wheelColorPicker.colorToStr=function(a,b){var c="";switch(b){case"css":c="#";case"hex":var d=Math.round(255*a.r).toString(16);1==d.length&&(d="0"+d);var e=Math.round(255*a.g).toString(16);1==e.length&&(e="0"+e);var f=Math.round(255*a.b).toString(16);1==f.length&&(f="0"+f),c+=d+e+f;break;case"rgb":c="rgb("+Math.round(255*a.r)+","+Math.round(255*a.g)+","+Math.round(255*a.b)+")";break;case"rgb%":c="rgb("+100*a.r+"%,"+100*a.g+"%,"+100*a.b+"%)";break;case"rgba":c="rgba("+Math.round(255*a.r)+","+Math.round(255*a.g)+","+Math.round(255*a.b)+","+a.a+")";break;case"rgba%":c="rgba("+100*a.r+"%,"+100*a.g+"%,"+100*a.b+"%,"+100*a.a+"%)";break;case"hsv":c="hsv("+360*a.h+","+a.s+","+a.v+")";break;case"hsv%":c="hsv("+100*a.h+"%,"+100*a.s+"%,"+100*a.v+"%)";break;case"hsva":c="hsva("+360*a.h+","+a.s+","+a.v+","+a.a+")";break;case"hsva%":c="hsva("+100*a.h+"%,"+100*a.s+"%,"+100*a.v+"%,"+100*a.a+"%)";break;case"hsb":c="hsb("+a.h+","+a.s+","+a.v+")";break;case"hsb%":c="hsb("+100*a.h+"%,"+100*a.s+"%,"+100*a.v+"%)";break;case"hsba":c="hsba("+a.h+","+a.s+","+a.v+","+a.a+")";break;case"hsba%":c="hsba("+100*a.h+"%,"+100*a.s+"%,"+100*a.v+"%,"+100*a.a+"%)"}return c},a.fn.wheelColorPicker.strToColor=function(a){var c,d,b={a:1};if(null!=a.match(/^#[0-9a-f]{6}$/i)){if(isNaN(b.r=parseInt(a.substr(1,2),16)/255))return!1;if(isNaN(b.g=parseInt(a.substr(3,2),16)/255))return!1;if(isNaN(b.b=parseInt(a.substr(5,2),16)/255))return!1}else if(null!=a.match(/^[0-9a-f]{6}$/i)){if(isNaN(b.r=parseInt(a.substr(0,2),16)/255))return!1;if(isNaN(b.g=parseInt(a.substr(2,2),16)/255))return!1;if(isNaN(b.b=parseInt(a.substr(4,2),16)/255))return!1}else if(null!=a.match(/^rgba\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)||null!=a.match(/^rgb\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)){if(d=null!=a.match(/a/i),c=a.substring(a.indexOf("(")+1,a.indexOf(",")),"%"==c.charAt(c.length-1)){if(isNaN(b.r=parseFloat(c)/100))return!1}else if(isNaN(b.r=parseInt(c)/255))return!1;if(c=a.substring(a.indexOf(",")+1,a.indexOf(",",a.indexOf(",")+1)),"%"==c.charAt(c.length-1)){if(isNaN(b.g=parseFloat(c)/100))return!1}else if(isNaN(b.g=parseInt(c)/255))return!1;if(c=d?a.substring(a.indexOf(",",a.indexOf(",")+1)+1,a.lastIndexOf(",")):a.substring(a.lastIndexOf(",")+1,a.lastIndexOf(")")),"%"==c.charAt(c.length-1)){if(isNaN(b.b=parseFloat(c)/100))return!1}else if(isNaN(b.b=parseInt(c)/255))return!1;if(d)if(c=a.substring(a.lastIndexOf(",")+1,a.lastIndexOf(")")),"%"==c.charAt(c.length-1)){if(isNaN(b.a=parseFloat(c)/100))return!1}else if(isNaN(b.a=parseFloat(c)))return!1}else{if(null==a.match(/^hsva\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)&&null==a.match(/^hsv\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)&&null==a.match(/^hsba\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i)&&null==a.match(/^hsb\s*\(\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*,\s*([0-9\.]+%|[01]?\.?[0-9]*)\s*\)$/i))return!1;if(d=null!=a.match(/a/i),c=a.substring(a.indexOf("(")+1,a.indexOf(",")),"%"==c.charAt(c.length-1)){if(isNaN(b.h=parseFloat(c)/100))return!1}else if(isNaN(b.h=parseFloat(c)/360))return!1;if(c=a.substring(a.indexOf(",")+1,a.indexOf(",",a.indexOf(",")+1)),"%"==c.charAt(c.length-1)){if(isNaN(b.s=parseFloat(c)/100))return!1}else if(isNaN(b.s=parseFloat(c)))return!1;if(c=d?a.substring(a.indexOf(",",a.indexOf(",")+1)+1,a.lastIndexOf(",")):a.substring(a.lastIndexOf(",")+1,a.lastIndexOf(")")),"%"==c.charAt(c.length-1)){if(isNaN(b.v=parseFloat(c)/100))return!1}else if(isNaN(b.v=parseFloat(c)))return!1;if(d)if(c=a.substring(a.lastIndexOf(",")+1,a.lastIndexOf(")")),"%"==c.charAt(c.length-1)){if(isNaN(b.a=parseFloat(c)/100))return!1}else if(isNaN(b.a=parseFloat(c)))return!1}return b},a.fn.wheelColorPicker.hsvToRgb=function(a,b,c){var d=a<=1/6||a>=5/6?1:a<1/3?1-6*(a-1/6):a>4/6?6*(a-4/6):0,e=a>=1/6&&a<=.5?1:a<1/6?6*a:a<4/6?1-6*(a-.5):0,f=a>=.5&&a<=5/6?1:a>2/6&&a<.5?6*(a-2/6):a>5/6?1-6*(a-5/6):0,g=(d+(1-d)*(1-b))*c,h=(e+(1-e)*(1-b))*c,i=(f+(1-f)*(1-b))*c;return{r:g,g:h,b:i}},a.fn.wheelColorPicker.rgbToHsv=function(a,b,c){var d,e,f,g=Math.max(a,b,c),h=Math.min(a,b,c),i=g-h;return e=0!=g?i/g:0,d=0==i?0:a==g?(6+(b-c)/i)%6:b==g?2+(c-a)/i:c==g?4+(a-b)/i:0,d/=6,f=g,{h:d,s:e,v:f}},b.staticInit=function(){a.fn.wheelColorPicker.hasInit||(a.fn.wheelColorPicker.hasInit=!0,e=a('<div id="jQWCP-overlay" style="display: none;"></div>'),a("body").append(e),e.on("click",c.onOverlayClick),a("body").on("mouseup.wheelColorPicker",c.onBodyMouseUp),a("body").on("touchend.wheelColorPicker",c.onBodyMouseUp),a("body").on("mousemove.wheelColorPicker",c.onBodyMouseMove),a("body").on("touchmove.wheelColorPicker",c.onBodyMouseMove))},b.init=function(){return b.staticInit(),this.each(function(){var e=a(this),f=e.data("jQWCP.settings"),g=null;if(!f.hasInit){f.hasInit=!0;var h={h:0,s:0,v:1,r:1,g:1,b:1,a:1};e.data("jQWCP.color",h),null==f.sliders&&(f.sliders="wvp"+(f.format.indexOf("a")>=0?"a":"")),"block"==f.layout?(g=c.initWidget.call(e),g.addClass(f.cssClass),e.data("jQWCP.widget",g.get(0)),g.data("jQWCP.inputElm",this),g.addClass("jQWCP-block"),e.after(g),"inline"==e.css("display")?g.css("display","inline-block"):g.css("display",e.css("display")),g.append(e),c.adjustWidget(g.get(0),f),e.hide(),void 0!=e.attr("tabindex")?g.attr("tabindex",e.attr("tabindex")):g.attr("tabindex",0),b.redrawSliders.call(e,null,!0),b.updateSliders.call(e),g.on("focus.wheelColorPicker",c.onWidgetFocus),g.on("blur.wheelColorPicker",c.onWidgetBlur)):(null==d?(g=c.initWidget.call(e),e.data("jQWCP.widget",g.get(0)),d=g,d.hide(),a("body").append(g),g.on("mousedown.wheelColorPicker",c.onPopupDlgMouseDown),g.on("mouseup.wheelColorPicker",c.onPopupDlgMouseUp)):e.data("jQWCP.widget",d),e.on("focus.wheelColorPicker",b.show),e.on("blur.wheelColorPicker",c.onInputBlur)),e.on("keyup.wheelColorPicker",c.onInputKeyup),e.on("change.wheelColorPicker",c.onInputChange),null==f.color?b.setValue.call(e,e.val()):"object"==typeof f.color?(b.setColor.call(e,f.color),f.color=void 0):(b.setValue.call(e,f.color),f.color=void 0),f.userinput?e.removeAttr("readonly"):e.attr("readonly",!0)}})},b.setOptions=function(c){var d=c;return this.each(function(){var b=a(this),e=this;c=a.extend({},d),"undefined"==typeof c.htmlOptions&&(c.htmlOptions=a.fn.wheelColorPicker.defaults.htmlOptions),c.htmlOptions&&a.each(a.fn.wheelColorPicker.defaults,function(a,d){e.hasAttribute("data-wcp-"+a)&&(c[a]=b.attr("data-wcp-"+a))});var f=a.extend(!0,{},a.fn.wheelColorPicker.defaults,c);b.data("jQWCP.settings",f)}),b.init.call(this)},b.destroy=function(){return this.each(function(){var b=a(this),c=b.data("jQWCP.settings"),e=null;c&&("block"==c.layout?(e=a(b.data("jQWCP.widget")),e.before(b),e.remove(),b.show()):e=d,b.off("focus.wheelColorPicker"),b.off("blur.wheelColorPicker"),b.off("keyup.wheelColorPicker"),b.off("change.wheelColorPicker"),b.data("jQWCP.settings",null),b.data("jQWCP.widget",null))})},b.show=function(h){var i=a(this),j=i.data("jQWCP.settings"),k=d;"popup"==j.layout&&this!=i.data("jQWCP.inputElm")&&(k.stop(!0,!0),k.css({top:i.offset().top+i.outerHeight()+"px",left:i.offset().left+"px"}),g&&k.css({top:i.get(0).getBoundingClientRect().top-f.top+i.outerHeight()+"px",left:i.get(0).getBoundingClientRect().left-f.left+"px"}),k.data("jQWCP.inputElm",this),k.attr("class","jQWCP-wWidget"),k.addClass(j.cssClass),c.adjustWidget(k.get(0),j),b.redrawSliders.call(i,null,!0),b.updateSliders.call(i),j.lastValue=i.val(),k.fadeIn(j.animDuration),j.hideKeyboard&&(i.blur(),e.show()))},b.hide=function(b){var c=a(this),e=c.data("jQWCP.settings");d.fadeOut(e.animDuration)},b.redrawSliders=function(b,c){return this.each(function(){var b=a(this),d=b.data("jQWCP.settings"),e=a(b.data("jQWCP.widget")),f=b.data("jQWCP.color");if(this==e.data("jQWCP.inputElm")){var g=d.sliderWidth,h=50*d.quality,i=1,j=0,k=0,l=0,m=0,n=0,o=1;d.live&&(i=f.a,j=Math.round(255*f.r),k=Math.round(255*f.g),l=Math.round(255*f.b),m=f.h,n=f.s,o=f.v);var p=e.find(".jQWCP-wPreviewBox"),q=p.get(0).getContext("2d");if(q.fillStyle="rgba("+j+","+k+","+l+","+i+")",q.clearRect(0,0,g,h),q.fillRect(0,0,g,h),d.live||c){var r=e.find(".jQWCP-wAlphaSlider"),s=r.get(0).getContext("2d"),t=s.createLinearGradient(0,0,0,h);t.addColorStop(0,"rgba("+j+","+k+","+l+",1)"),t.addColorStop(1,"rgba("+j+","+k+","+l+",0)"),s.fillStyle=t,s.clearRect(0,0,g,h),s.fillRect(0,0,g,h);var u=e.find(".jQWCP-wRedSlider"),v=u.get(0).getContext("2d"),w=v.createLinearGradient(0,0,0,h);w.addColorStop(0,"rgb(255,"+k+","+l+")"),w.addColorStop(1,"rgb(0,"+k+","+l+")"),v.fillStyle=w,v.fillRect(0,0,g,h);var x=e.find(".jQWCP-wGreenSlider"),y=x.get(0).getContext("2d"),z=y.createLinearGradient(0,0,0,h);z.addColorStop(0,"rgb("+j+",255,"+l+")"),z.addColorStop(1,"rgb("+j+",0,"+l+")"),y.fillStyle=z,y.fillRect(0,0,g,h);var A=e.find(".jQWCP-wBlueSlider"),B=A.get(0).getContext("2d"),C=B.createLinearGradient(0,0,0,h);C.addColorStop(0,"rgb("+j+","+k+",255)"),C.addColorStop(1,"rgb("+j+","+k+",0)"),B.fillStyle=C,B.fillRect(0,0,g,h);var D=e.find(".jQWCP-wHueSlider"),E=D.get(0).getContext("2d"),F=E.createLinearGradient(0,0,0,h);F.addColorStop(0,"#f00"),F.addColorStop(.166666667,"#ff0"),F.addColorStop(.333333333,"#0f0"),F.addColorStop(.5,"#0ff"),F.addColorStop(.666666667,"#00f"),F.addColorStop(.833333333,"#f0f"),F.addColorStop(1,"#f00"),E.fillStyle=F,E.fillRect(0,0,g,h);var G=a.fn.wheelColorPicker.hsvToRgb(m,1,o);G.r=Math.round(255*G.r),G.g=Math.round(255*G.g),G.b=Math.round(255*G.b);var H=e.find(".jQWCP-wSatSlider"),I=H.get(0).getContext("2d"),J=I.createLinearGradient(0,0,0,h);J.addColorStop(0,"rgb("+G.r+","+G.g+","+G.b+")"),J.addColorStop(1,"rgb("+Math.round(255*o)+","+Math.round(255*o)+","+Math.round(255*o)+")"),I.fillStyle=J,I.fillRect(0,0,g,h);var K=a.fn.wheelColorPicker.hsvToRgb(m,n,1);K.r=Math.round(255*K.r),K.g=Math.round(255*K.g),K.b=Math.round(255*K.b);var L=e.find(".jQWCP-wValSlider"),M=L.get(0).getContext("2d"),N=M.createLinearGradient(0,0,0,h);N.addColorStop(0,"rgb("+K.r+","+K.g+","+K.b+")"),N.addColorStop(1,"#000"),M.fillStyle=N,M.fillRect(0,0,g,h)}}})},b.updateSliders=function(){return this.each(function(){var b=a(this),c=b.data("jQWCP.settings"),d=a(b.data("jQWCP.widget")),e=b.data("jQWCP.color");if(this==d.data("jQWCP.inputElm")){var f=d.find(".jQWCP-wWheel"),g=d.find(".jQWCP-wWheelCursor"),h=d.find(".jQWCP-wWheelOverlay"),i=Math.cos(2*Math.PI*e.h)*e.s,j=Math.sin(2*Math.PI*e.h)*e.s,k=f.width()/2,l=f.height()/2;g.css("left",k+i*f.width()/2+"px"),g.css("top",l-j*f.height()/2+"px"),c.preserveWheel?h.css("opacity",0):h.css("opacity",1-(e.v<.2?.2:e.v));var m=d.find(".jQWCP-wHueSlider"),n=d.find(".jQWCP-wHueCursor");n.css("top",e.h*m.height()+"px");var o=d.find(".jQWCP-wSatSlider"),p=d.find(".jQWCP-wSatCursor");p.css("top",(1-e.s)*o.height()+"px");var q=d.find(".jQWCP-wValSlider"),r=d.find(".jQWCP-wValCursor");r.css("top",(1-e.v)*q.height()+"px");var s=d.find(".jQWCP-wRedSlider"),t=d.find(".jQWCP-wRedCursor");t.css("top",(1-e.r)*s.height()+"px");var u=d.find(".jQWCP-wGreenSlider"),v=d.find(".jQWCP-wGreenCursor");v.css("top",(1-e.g)*u.height()+"px");var w=d.find(".jQWCP-wBlueSlider"),x=d.find(".jQWCP-wBlueCursor");x.css("top",(1-e.b)*w.height()+"px");var y=d.find(".jQWCP-wAlphaSlider"),z=d.find(".jQWCP-wAlphaCursor");z.css("top",(1-e.a)*y.height()+"px")}})},b.updateSelection=function(){return b.redrawSliders.call($this),b.updateSliders.call($this)},b.setRgba=function(c,d,e,f){return this.each(function(){var b=a(this),g=b.data("jQWCP.color");g.r=c,g.g=d,g.b=e,null!=f&&(g.a=f);var h=a.fn.wheelColorPicker.rgbToHsv(c,d,e);g.h=h.h,g.s=h.s,g.v=h.v}),b.updateSliders.call(this,"hsv"),b.redrawSliders.call(this,"svrgba")},b.setRgb=function(a,c,d){return b.setRgba.call(this,a,c,d,null)},b.setHsva=function(c,d,e,f){return this.each(function(){var b=a(this),g=b.data("jQWCP.color");g.h=c,g.s=d,g.v=e,null!=f&&(g.a=f);var h=a.fn.wheelColorPicker.hsvToRgb(c,d,e);g.r=h.r,g.g=h.g,g.b=h.b}),b.updateSliders.call(this,"rgb"),b.redrawSliders.call(this,"svrgba")},b.setHsv=function(a,c,d){return b.setHsva.call(this,a,c,d,null)},b.setAlpha=function(c){return this.each(function(){var b=a(this),d=b.data("jQWCP.color");d.a=c}),b.redrawSliders.call(this,"")},b.alpha=function(b){var c=this.data("jQWCP.settings");if(null==b)return c.sliders.indexOf("a")!=-1;if(1==b){if(c.sliders.indexOf("a")==-1)return this.each(function(){var b=a(this),c=b.data("jQWCP.settings");c.sliders+="a"})}else if(0==b)return this.each(function(){var b=a(this),c=b.data("jQWCP.settings");c.sliders.replace("a","")})},b.color=function(a){return null==a?b.getValue.call(this):b.setValue.call(this,a)},b.getColor=function(){return this.data("jQWCP.color")},b.setColor=function(a){return null!=a.r?b.setRgba.call(this,a.r,a.g,a.b,a.a):null!=a.h?b.setHsva.call(this,a.h,a.s,a.v,a.a):null!=a.a?b.setAlpha.call(this,a.a):this},b.getValue=function(b){var c=this.data("jQWCP.settings"),d=this.data("jQWCP.color");return null==b&&(b=c.format),c.rounding>=0&&(d.a=Math.round(d.a*Math.pow(10,c.rounding))/Math.pow(10,c.rounding)),a.fn.wheelColorPicker.colorToStr(d,b)},b.setValue=function(c){var d=a.fn.wheelColorPicker.strToColor(c);return d?b.setColor.call(this,d):this},c.initWidget=function(b){var d=this.data("jQWCP.settings"),e=d.sliderWidth,f=50*d.quality,g=a("<div class='jQWCP-wWidget'><div class='jQWCP-wWheelGroup'><div class='jQWCP-wWheel'><div class='jQWCP-wWheelOverlay'></div><span class='jQWCP-wWheelCursor'></span></div></div><div class='jQWCP-wHSVGroup'><div class='jQWCP-wHue jQWCP-slider-wrapper'><canvas class='jQWCP-wHueSlider jQWCP-slider' width='"+e+"' height='"+f+"' title='Hue'></canvas><span class='jQWCP-wHueCursor jQWCP-scursor'></span></div><div class='jQWCP-wSat jQWCP-slider-wrapper'><canvas class='jQWCP-wSatSlider jQWCP-slider' width='"+e+"' height='"+f+"' title='Saturation'></canvas><span class='jQWCP-wSatCursor jQWCP-scursor'></span></div><div class='jQWCP-wVal jQWCP-slider-wrapper'><canvas class='jQWCP-wValSlider jQWCP-slider' width='"+e+"' height='"+f+"' title='Value'></canvas><span class='jQWCP-wValCursor jQWCP-scursor'></span></div></div><div class='jQWCP-wRGBGroup'><div class='jQWCP-wRed jQWCP-slider-wrapper'><canvas class='jQWCP-wRedSlider jQWCP-slider' width='"+e+"' height='"+f+"' title='Red'></canvas><span class='jQWCP-wRedCursor jQWCP-scursor'></span></div><div class='jQWCP-wGreen jQWCP-slider-wrapper'><canvas class='jQWCP-wGreenSlider jQWCP-slider' width='"+e+"' height='"+f+"' title='Green'></canvas><span class='jQWCP-wGreenCursor jQWCP-scursor'></span></div><div class='jQWCP-wBlue jQWCP-slider-wrapper'><canvas class='jQWCP-wBlueSlider jQWCP-slider' width='"+e+"' height='"+f+"' title='Blue'></canvas><span class='jQWCP-wBlueCursor jQWCP-scursor'></span></div></div><div class='jQWCP-wAlpha jQWCP-slider-wrapper'><canvas class='jQWCP-wAlphaSlider jQWCP-slider' width='"+e+"' height='"+f+"' title='Alpha'></canvas><span class='jQWCP-wAlphaCursor jQWCP-scursor'></span></div><div class='jQWCP-wPreview'><canvas class='jQWCP-wPreviewBox' width='"+e+"' height='"+f+"' title='Selected Color'></canvas></div></div>");return g.find(".jQWCP-wWheel, .jQWCP-slider-wrapper, .jQWCP-scursor, .jQWCP-slider").attr("unselectable","on").css("-moz-user-select","none").css("-webkit-user-select","none").css("user-select","none").css("-webkit-touch-callout","none"),g.on("contextmenu.wheelColorPicker",function(){return!1}),g.on("mousedown.wheelColorPicker",".jQWCP-wWheel",c.onWheelMouseDown),g.on("touchstart.wheelColorPicker",".jQWCP-wWheel",c.onWheelMouseDown),g.on("mousedown.wheelColorPicker",".jQWCP-wWheelCursor",c.onWheelCursorMouseDown),g.on("touchstart.wheelColorPicker",".jQWCP-wWheelCursor",c.onWheelCursorMouseDown),g.on("mousedown.wheelColorPicker",".jQWCP-slider",c.onSliderMouseDown),g.on("touchstart.wheelColorPicker",".jQWCP-slider",c.onSliderMouseDown),g.on("mousedown.wheelColorPicker",".jQWCP-scursor",c.onSliderCursorMouseDown),g.on("touchstart.wheelColorPicker",".jQWCP-scursor",c.onSliderCursorMouseDown),g},c.adjustWidget=function(b,c){var d=a(b),e=c.sliders;e.indexOf("w")<0?d.find(".jQWCP-wWheel").hide().addClass("hidden"):d.find(".jQWCP-wWheel").show().removeClass("hidden"),e.indexOf("h")<0?d.find(".jQWCP-wHue").hide().addClass("hidden"):d.find(".jQWCP-wHue").show().removeClass("hidden"),e.indexOf("h")<0?d.find(".jQWCP-wHue").hide().addClass("hidden"):d.find(".jQWCP-wHue").show().removeClass("hidden"),e.indexOf("s")<0?d.find(".jQWCP-wSat").hide().addClass("hidden"):d.find(".jQWCP-wSat").show().removeClass("hidden"),e.indexOf("v")<0?d.find(".jQWCP-wVal").hide().addClass("hidden"):d.find(".jQWCP-wVal").show().removeClass("hidden"),e.indexOf("r")<0?d.find(".jQWCP-wRed").hide().addClass("hidden"):d.find(".jQWCP-wRed").show().removeClass("hidden"),e.indexOf("g")<0?d.find(".jQWCP-wGreen").hide().addClass("hidden"):d.find(".jQWCP-wGreen").show().removeClass("hidden"),e.indexOf("b")<0?d.find(".jQWCP-wBlue").hide().addClass("hidden"):d.find(".jQWCP-wBlue").show().removeClass("hidden"),e.indexOf("a")<0?d.find(".jQWCP-wAlpha").hide().addClass("hidden"):d.find(".jQWCP-wAlpha").show().removeClass("hidden"),e.indexOf("p")<0?d.find(".jQWCP-wPreview").hide().addClass("hidden"):d.find(".jQWCP-wPreview").show().removeClass("hidden");var f=d.find(".jQWCP-wWheel, .jQWCP-slider-wrapper, .jQWCP-wPreview").not(".hidden"),g=0;f.each(function(b,c){g+=parseFloat(a(c).css("margin-left").replace("px",""))+a(c).outerWidth()}),d.css({width:g+"px"})},c.onPopupDlgMouseDown=function(b){var c=a(this),d=a(c.data("jQWCP.inputElm"));if(d.off("blur.wheelColorPicker"),d.off("focus.wheelColorPicker"),void 0!=d.data("events"))var e=d.data("events").blur;else var e=void 0;var f={blur:[]};if(void 0!=e)for(var g=0;g<e.length;g++)f.blur.push(e[g]);d.data("jQWCP.suspendedEvents",f)},c.onPopupDlgMouseUp=function(b){var c=a(this),d=a(c.data("jQWCP.inputElm")),e=d.data("jQWCP.settings");e.hideKeyboard||d.trigger("focus.jQWCP_DONT_TRIGGER_EVENTS")},c.onWheelMouseDown=function(b){var c=a(this),d=c.parents(".jQWCP-wWidget:eq(0)"),e=a(d.data("jQWCP.inputElm"));a("body").data("jQWCP.activeControl",c.get(0)),e.trigger("sliderdown")},c.onWheelCursorMouseDown=function(b){var c=a(this),d=c.parents(".jQWCP-wWidget:eq(0)");a(d.data("jQWCP.inputElm"));a("body").data("jQWCP.activeControl",c.parent().get(0))},c.onSliderMouseDown=function(b){var c=a(this),d=c.parents(".jQWCP-wWidget:eq(0)"),e=a(d.data("jQWCP.inputElm"));a("body").data("jQWCP.activeControl",c.parent().get(0)),e.trigger("sliderdown")},c.onSliderCursorMouseDown=function(b){var c=a(this),d=c.parents(".jQWCP-wWidget:eq(0)"),e=a(d.data("jQWCP.inputElm"));a("body").data("jQWCP.activeControl",c.parent().get(0)),e.trigger("sliderdown")},c.onBodyMouseUp=function(d){var e=a(a("body").data("jQWCP.activeControl"));if(0!=e.length){var f=e.parents(".jQWCP-wWidget:eq(0)"),g=a(f.data("jQWCP.inputElm")),h=g.data("jQWCP.settings");if(void 0!=d.pageX&&c.updateActiveControl(d),"popup"==h.layout){h.hideKeyboard||g.trigger("focus.jQWCP_DONT_TRIGGER_EVENTS"),g.on("blur.wheelColorPicker",c.onInputBlur),g.on("focus.wheelColorPicker",b.show);var i=g.data("jQWCP.suspendedEvents");if(void 0!=i)for(var j=i.blur,k=0;k<j.length;k++)g.on("blur"+(""==j[k].namespace?"":"."+j[k].namespace),j[k].handler)}a("body").data("jQWCP.activeControl",null),g.trigger("sliderup")}},c.onBodyMouseMove=function(b){var d=a(a("body").data("jQWCP.activeControl"));if(0!=d.length){b.preventDefault();var e=d.parents(".jQWCP-wWidget:eq(0)"),f=a(e.data("jQWCP.inputElm"));return c.updateActiveControl(b),f.trigger("slidermove"),!1}},c.updateActiveControl=function(c){var d=a(a("body").data("jQWCP.activeControl"));if(0!=d.length){var e=d.parents(".jQWCP-wWidget:eq(0)"),h=a(e.data("jQWCP.inputElm")),i=h.data("jQWCP.settings"),j=h.data("jQWCP.color");if(void 0==c.pageX&&c.originalEvent.touches.length>0&&(c.pageX=c.originalEvent.touches[0].pageX,c.pageY=c.originalEvent.touches[0].pageY),a("#log").html(c.pageX+"/"+c.pageY),d.hasClass("jQWCP-wWheel")){var k=d.find(".jQWCP-wWheelCursor"),m=(d.find(".jQWCP-wWheelOverlay"),(c.pageX-d.offset().left-d.width()/2)/(d.width()/2)),n=-(c.pageY-d.offset().top-d.height()/2)/(d.height()/2);if(g)var m=(c.pageX-(d.get(0).getBoundingClientRect().left-f.left)-d.width()/2)/(d.width()/2),n=-(c.pageY-(d.get(0).getBoundingClientRect().top-f.top)-d.height()/2)/(d.height()/2);var o=Math.sqrt(Math.pow(m,2)+Math.pow(n,2));o>1&&(o=1),i.snap&&o<i.snapTolerance&&(o=0);var p=0==m&&0==n?0:Math.atan(n/m)/(2*Math.PI);p<0&&(p+=.5),n<0&&(p+=.5),b.setHsv.call(h,p,o,j.v)}else if(d.hasClass("jQWCP-slider-wrapper")){var k=d.find(".jQWCP-scursor"),n=(c.pageY-d.offset().top)/d.height();if(g)var n=(c.pageY-(d.get(0).getBoundingClientRect().top-f.top))/d.height();var q=n<0?0:n>1?1:n;i.snap&&q<i.snapTolerance?q=0:i.snap&&q>1-i.snapTolerance&&(q=1),i.snap&&q>.5-i.snapTolerance&&q<.5+i.snapTolerance&&(q=.5),k.css("top",q*d.height()+"px"),d.hasClass("jQWCP-wRed")&&b.setRgb.call(h,1-q,j.g,j.b),d.hasClass("jQWCP-wGreen")&&b.setRgb.call(h,j.r,1-q,j.b),d.hasClass("jQWCP-wBlue")&&b.setRgb.call(h,j.r,j.g,1-q),d.hasClass("jQWCP-wHue")&&b.setHsv.call(h,q,j.s,j.v),d.hasClass("jQWCP-wSat")&&b.setHsv.call(h,j.h,1-q,j.v),d.hasClass("jQWCP-wVal")&&b.setHsv.call(h,j.h,j.s,1-q),d.hasClass("jQWCP-wAlpha")&&b.setAlpha.call(h,1-q)}h.val(b.getValue.call(h)),i.preview&&(h.css("background",a.fn.wheelColorPicker.colorToStr(j,"rgba")),j.v>.5?h.css("color","black"):h.css("color","white"))}},c.onInputChange=function(c){var d=a(this),e=a.fn.wheelColorPicker.strToColor(d.val());e&&(b.setColor.call(d,e),d.trigger("sliderchanged"))},c.onInputKeyup=function(a){c.onInputChange.call(this,a)},c.onInputBlur=function(c){var d=a(this),e=d.data("jQWCP.settings"),f=e.lastValue,g=d.val();e.hideKeyboard||(f!=g&&d.trigger("change"),"popup"==e.layout&&b.hide.call(d))},c.onWidgetFocus=function(b){var c=a(a(this).data("jQWCP.inputElm")),e=(a(this),c.data("jQWCP.settings"));e.lastValue=c.val(),c.triggerHandler("focus")},c.onWidgetBlur=function(b){var d=a(a(this).data("jQWCP.inputElm"));a(this);c.onInputBlur.call(d),d.triggerHandler("blur")},c.onOverlayClick=function(c){var f=d.data("jQWCP.inputElm");if(null!=d&&null!=d.data("jQWCP.inputElm")){var g=a(f),h=g.data("jQWCP.settings"),i=h.lastValue,j=g.val();i!=j&&g.trigger("change"),b.hide.call(g)}a(this).hide()},a(document).ready(function(){a("[data-wheelcolorpicker]").wheelColorPicker({htmlOptions:!0})}),function(){void 0!=a.browser&&a.browser.mozilla&&(a.fn.wheelColorPicker.defaults.quality=.2),navigator.userAgent.indexOf("Firefox/3.6")>=0&&(a.fn.wheelColorPicker.defaults.sliderWidth=50),a(document).ready(function(){a("body").append('<div id="jQWCP-PageOrigin" style="position: absolute; top: 0; left: 0; height: 0; width: 0;"></div>'),a(window).on("scroll.jQWCP_RelativePageOriginBugFix",function(){var a=document.getElementById("jQWCP-PageOrigin").getBoundingClientRect();f=a,0==a.left&&0==a.top||(g=!0)})})}()}(jQuery);
